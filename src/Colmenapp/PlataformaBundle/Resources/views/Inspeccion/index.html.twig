{% extends 'ColmenappPlataformaBundle::layout.html.twig' %}

{% block page_title %}
<h2 class="page-header">
    <i class="fa fa-fw fa-cube"></i> <span class="glyphicon glyphicon-eye"></span> Inspección de Apiario
</h2>
{% endblock %}

{% block page_subtitle %}
{% endblock %}

{% block avanzu_breadcrumb %}
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Panel de Control</a></li>
    </ol>
{% endblock %}

{% block page_content %}
<section ng-controller="inspeccionController">
  {% verbatim %}
  <div class="row">
      <div class="col-md-5">
          <form class="form-horizontal" name="colmenaForm" novalidate>
              <div class="box-body">
                  <div class="form-group">
                      <label  type="text" class="col-sm-2 control-label">Seleccione Apiario</label>
                      <div class="col-sm-10">
                          <select ng-change="seleccionarApiario(apiario)"  class="form-control" ng-model="apiario" required>
                           <option  ng-repeat="apiario in apiarios" value="{{apiario.id}}">{{ apiario.nombre }}</option>
                          </select>
                      </div>
                  </div>
              </div>
          </form>
      </div>
  </div>
  {% endverbatim %}

  <div class="row" ng-show="mostrarTabla">
      <div class="col-md-10">
          <a href="" data-toggle="modal" data-target=".modal-nueva-inspeccion">
              <button type="button" class="btn btn-primary btn-sm">
                  <i class="fa fa-fw fa-plus"></i> Nueva Inspección
              </button>
          </a>
      </div>
  </div>

  <br>
  <br>
  <div class="row">
      <toaster-container></toaster-container>
      <div id="loading-bar-container"></div>
      <div class="col-md-10">
          <div class="callout callout-info" ng-if="mostrarSelApiario">
              <h4>Seleccione Apiario</h4>
              <p>Seleccione un apiario para ver sus inspecciones.</p>
          </div>
          <div class="box box-info" ng-if="mostrarTabla">
              <div ng-show="mostrarSpinner" style="text-align:center;">
                  <img width="250px" heigth="250px" align="center" src="{{ asset('bundles/colmenappplataforma/img/spinner.gif') }}" />
              </div>
              <div class="box-body no-padding">
                  {% verbatim %}
                      <div ng-if="!mostrarSpinner" class="table table-striped" style="height:330px!important;"  ui-grid="gridOptionsInspeccion" ui-grid-pagination></div>
                  {% endverbatim %}
              </div>
          </div>
      </div>
  </div>


</section>
{% endblock %}
